<div class="p-8 bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto">
  <h4 class="text-2xl text-primary text-center">Registrar nueva cita</h4>

  <div class="bg-blue-50 border border-blue-200 rounded-xl p-3 mb-7 text-center">
    <p class="text-gray-700 text-lg">
      <strong>Fecha seleccionada:</strong>
      <span class="text-blue-600 font-semibold">
        {{ data.fecha | date : 'fullDate' }}
      </span>
    </p>
  </div>

  <form (ngSubmit)="guardar()" class="space-y-6">
    
    <div class="form-group">
      <label class="mt-2">Cliente:</label>
      <select class="form-select"
        [(ngModel)]="clienteSeleccionadoId"
        name="cliente"
        (change)="cambiarCliente()"
        required
      >
        <option [ngValue]="null" disabled selected>Selecciona un cliente</option>
        <option *ngFor="let c of clientes" [ngValue]="c.id">
          {{ c.nombres }} {{ c.apellidos }}
        </option>
      </select>
    </div>

    <div class="form-group" *ngIf="mascotasCliente.length > 0">
      <label>Mascota:</label>
      <select class="form-select" [(ngModel)]="mascotaSeleccionadaId" name="mascota" required>
        <option [ngValue]="null" disabled selected>Selecciona una mascota</option>
        <option *ngFor="let m of mascotasCliente" [ngValue]="m.id">
          {{ m.nombre }} ({{ m.especie }})
        </option>
      </select>
    </div>

    <div class="form-group">
      <label>Título de la cita:</label>
      <input [(ngModel)]="titulo" name="titulo" placeholder="Ej. Consulta veterinaria" required />
    </div>

    <div class="form-group">
      <label>Descripción:</label>
      <textarea [(ngModel)]="descripcion" name="descripcion" rows="2"></textarea>
    </div>

    <div class="form-group">
      <label>Hora:</label>
      <input type="time" [(ngModel)]="hora" name="hora" min="08:00" max="17:00" />
    </div>

    <div class="flex justify-end gap-4 pt-4">
      <button class="btn btn-danger btn-sm me-2" type="button" (click)="cerrar()">Cancelar</button>
      <button class="btn btn-primary btn-sm"  type="button" (click)="guardar()">Guardar</button>
    </div>
  </form>
</div>
